{"ast":null,"code":"import _classCallCheck from \"/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/src/containers/User/UserDetails/UserDetails.js\";\nimport React, { setState, Component } from 'react';\nimport Button from 'react-bootstrap/lib/Button';\nimport ButtonGroup from 'react-bootstrap/lib/ButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/lib/ButtonToolbar';\nimport Col from 'react-bootstrap/lib/Col';\nimport Grid from 'react-bootstrap/lib/Grid';\nimport Row from 'react-bootstrap/lib/Row';\nimport Tab from 'react-bootstrap/lib/Tab';\nimport Tabs from 'react-bootstrap/lib/Tabs'; // import ImageGallery from 'react-image-gallery';\n\nimport { connect } from 'react-redux';\nimport UserMessages from '../../../components/User/UserMessages/UserMessages';\nimport '../../../shared/card-syles.css';\nimport '../../../shared/styles.css';\nimport { updateObject } from '../../../shared/utility';\nimport * as actions from '../../../store/actions/index';\nimport './UserDetails.css';\nimport UserDetailsCard from '../../../components/User/UserDetailsCard/UserDetailsCard';\nimport Nav from 'react-bootstrap/lib/Nav';\nimport NavItem from 'react-bootstrap/lib/NavItem';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nvar UserDetails = /*#__PURE__*/function (_Component) {\n  _inherits(UserDetails, _Component);\n\n  var _super = _createSuper(UserDetails);\n\n  function UserDetails(props) {\n    var _this;\n\n    _classCallCheck(this, UserDetails);\n\n    _this = _super.call(this, props);\n\n    _this.sendMessageHandler = function (event) {\n      event.preventDefault();\n      var message = {\n        content: _this.state.message,\n        recipientId: _this.props.userDetail.id\n      };\n\n      _this.props.onSendMessage(_this.props.user.id, message);\n    };\n\n    _this.handleMessageChange = function (message) {\n      _this.setState(updateObject(_this.state, {\n        message: message.target.value\n      }));\n    };\n\n    _this.state = {\n      message: '',\n      key: 1,\n      reviewInputBox: \"hidden\",\n      reviewInput: \"\"\n    };\n    _this.editReview = _this.editReview.bind(_assertThisInitialized(_this));\n    _this.handleReviewChange = _this.handleReviewChange.bind(_assertThisInitialized(_this));\n    _this.handleReviewSubmit = _this.handleReviewSubmit.bind(_assertThisInitialized(_this));\n    _this.cancelReviewEdit = _this.cancelReviewEdit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(UserDetails, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var userId = +this.props.match.params.userId;\n      this.props.onGetUser(userId);\n    }\n  }, {\n    key: \"handleTabChange\",\n    value: function handleTabChange(key) {\n      if (key === 4) {\n        this.props.onGetMessageThread(this.props.user.id, this.props.userDetail.id);\n      }\n\n      this.setState(updateObject(this.state, {\n        key: key\n      }));\n    }\n  }, {\n    key: \"editReview\",\n    value: function editReview() {\n      this.setState({\n        reviewInputBox: \"\"\n      });\n    }\n  }, {\n    key: \"cancelReviewEdit\",\n    value: function cancelReviewEdit() {\n      this.setState({\n        reviewInputBox: \"hidden\"\n      });\n    }\n  }, {\n    key: \"handleReviewChange\",\n    value: function handleReviewChange(message) {\n      this.setState({\n        reviewInput: message.target.value\n      });\n    }\n  }, {\n    key: \"handleReviewSubmit\",\n    value: function handleReviewSubmit() {\n      if (this.state.reviewInput.length > 0) {\n        this.props.onUpdateReview(this.props.match.params.userId, this.state.reviewInput);\n      }\n\n      this.setState({\n        reviewInputBox: \"hidden\"\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var userInfo = null; // console.log(\"this.props.userDetail: \"+JSON.stringify(this.props.userDetail, null, 4));\n      // console.log(\"this.props.user: \"+JSON.stringify(this.props.user, null, 4));\n\n      var prefURL = \"/preference/\".concat(this.props.user.userID); // let scheduleURL = ``\n\n      if (this.props.userDetail) {\n        userInfo = /*#__PURE__*/React.createElement(Row, {\n          className: \"background\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          className: \"mb-4 text-position\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }\n        }, this.props.userDetail.nameFirst, \"'s Profile\"), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(UserDetailsCard, {\n          user: this.props.userDetail,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          onClick: this.editReview,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }\n        }, \"Reviews: \", this.props.userDetail.reviews.split(',').join(', ')), /*#__PURE__*/React.createElement(\"div\", {\n          hidden: this.state.reviewInputBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          onChange: this.handleReviewChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(ButtonGroup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          bsStyle: \"primary\",\n          className: \"w-10\",\n          onClick: this.handleReviewSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 37\n          }\n        }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n          className: \"w-10\",\n          onClick: this.cancelReviewEdit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 37\n          }\n        }, \"Cancel\")))), /*#__PURE__*/React.createElement(Col, {\n          md: 8,\n          className: \"mx-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"bg-light card shadow-sm mb-10\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Tabs, {\n          defaultActiveKey: 1,\n          id: \"tab\",\n          activeKey: this.state.key,\n          onSelect: function onSelect(key) {\n            return _this2.handleTabChange(key);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Tab, {\n          eventKey: 1,\n          title: \"About\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"font-weight-bold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 41\n          }\n        }, \"Your Local Weather\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 41\n          }\n        }, this.props.userDetail.current_weather), /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"font-weight-bold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 41\n          }\n        }, \"Your Local Temperature\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 41\n          }\n        }, this.props.userDetail.current_temperature + ' F°')), /*#__PURE__*/React.createElement(Tab, {\n          eventKey: 2,\n          title: \"Interests\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Nav, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(LinkContainer, {\n          to: prefURL,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(NavItem, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 49\n          }\n        }, \"Interests\")))))))));\n      }\n\n      return /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, userInfo);\n    }\n  }]);\n\n  return UserDetails;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userDetail: state.user.userDetail,\n    user: state.auth.user,\n    messageThread: state.user.messageThread\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onGetUser: function onGetUser(userId) {\n      return dispatch(actions.getUser(userId));\n    },\n    // onGetMessageThread: (id, recipientId) => dispatch(actions.getMessageThread(id, recipientId)),\n    // onSendMessage: (id, message) => dispatch(actions.sendMessage(id, message)),\n    onUpdateReview: function onUpdateReview(id, review) {\n      return new Promise(function (resolve, reject) {\n        dispatch(actions.addReview(id, review));\n        resolve();\n      });\n    } // onSendLike: (id, recipientId) => dispatch( actions.sendLike(id, recipientId) )\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserDetails);","map":{"version":3,"sources":["/Users/MikeYu/Columbia MSCS/6156 Cloud Computing/LionMatch/src/containers/User/UserDetails/UserDetails.js"],"names":["React","setState","Component","Button","ButtonGroup","ButtonToolbar","Col","Grid","Row","Tab","Tabs","connect","UserMessages","updateObject","actions","UserDetailsCard","Nav","NavItem","LinkContainer","UserDetails","props","sendMessageHandler","event","preventDefault","message","content","state","recipientId","userDetail","id","onSendMessage","user","handleMessageChange","target","value","key","reviewInputBox","reviewInput","editReview","bind","handleReviewChange","handleReviewSubmit","cancelReviewEdit","userId","match","params","onGetUser","onGetMessageThread","length","onUpdateReview","userInfo","prefURL","userID","nameFirst","reviews","split","join","handleTabChange","current_weather","current_temperature","mapStateToProps","auth","messageThread","mapDispatchToProps","dispatch","getUser","review","Promise","resolve","reject","addReview"],"mappings":"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","sourcesContent":["import React, { setState, Component } from 'react';\nimport Button from 'react-bootstrap/lib/Button';\nimport ButtonGroup from 'react-bootstrap/lib/ButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/lib/ButtonToolbar';\nimport Col from 'react-bootstrap/lib/Col';\nimport Grid from 'react-bootstrap/lib/Grid';\nimport Row from 'react-bootstrap/lib/Row';\nimport Tab from 'react-bootstrap/lib/Tab';\nimport Tabs from 'react-bootstrap/lib/Tabs';\n// import ImageGallery from 'react-image-gallery';\nimport { connect } from 'react-redux';\nimport UserMessages from '../../../components/User/UserMessages/UserMessages';\nimport '../../../shared/card-syles.css';\nimport '../../../shared/styles.css';\nimport { updateObject } from '../../../shared/utility';\nimport * as actions from '../../../store/actions/index';\nimport './UserDetails.css';\nimport UserDetailsCard from '../../../components/User/UserDetailsCard/UserDetailsCard';\nimport Nav from 'react-bootstrap/lib/Nav';\nimport NavItem from 'react-bootstrap/lib/NavItem';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nclass UserDetails extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            message: '',\n            key: 1,\n            reviewInputBox: \"hidden\",\n            reviewInput: \"\"\n        };\n        this.editReview = this.editReview.bind(this);\n        this.handleReviewChange = this.handleReviewChange.bind(this);\n        this.handleReviewSubmit = this.handleReviewSubmit.bind(this);\n        this.cancelReviewEdit = this.cancelReviewEdit.bind(this);\n    }\n\n    componentDidMount() {\n        const userId =+ this.props.match.params.userId;\n        this.props.onGetUser(userId);\n    }\n\n    sendMessageHandler = (event) => {\n        event.preventDefault();\n        let message = {\n            content: this.state.message,\n            recipientId: this.props.userDetail.id\n        }\n        this.props.onSendMessage(this.props.user.id, message);\n    }\n\n    // sendLike = () => {\n    //     this.props.onSendLike(this.props.user.id, this.props.userDetail.id);\n    // }\n\n    handleMessageChange = (message) => {\n        this.setState(updateObject(this.state, {message: message.target.value}));    \n    }\n\n    handleTabChange(key) {\n        if(key === 4){\n            this.props.onGetMessageThread(this.props.user.id, this.props.userDetail.id);\n        }\n        this.setState(updateObject(this.state, {key: key}));    \n    }\n\n    editReview() {\n        this.setState({reviewInputBox: \"\"})\n    }\n\n    cancelReviewEdit() {\n        this.setState({reviewInputBox: \"hidden\"})\n    }\n\n    handleReviewChange(message) {\n        this.setState({reviewInput: message.target.value})\n    }\n\n    handleReviewSubmit() {\n        if (this.state.reviewInput.length > 0) {\n            this.props.onUpdateReview(this.props.match.params.userId, this.state.reviewInput)\n        }\n        this.setState({reviewInputBox: \"hidden\"});\n    }\n\n    render() {\n        let userInfo = null;\n        // console.log(\"this.props.userDetail: \"+JSON.stringify(this.props.userDetail, null, 4));\n        // console.log(\"this.props.user: \"+JSON.stringify(this.props.user, null, 4));\n        let prefURL = `/preference/${this.props.user.userID}`;\n        // let scheduleURL = ``\n        if (this.props.userDetail) {\n            userInfo = (\n                <Row className=\"background\">\n                    <h1 className=\"mb-4 text-position\">{this.props.userDetail.nameFirst}'s Profile</h1>\n                    <Row>\n                        <UserDetailsCard user={this.props.userDetail}>\n                            <p onClick={this.editReview}>Reviews: {this.props.userDetail.reviews.split(',').join(', ')}</p>\n                            <div hidden={this.state.reviewInputBox}>\n                                <input onChange={this.handleReviewChange}/>\n                                <ButtonGroup>\n                                    <Button bsStyle=\"primary\" className=\"w-10\" onClick={this.handleReviewSubmit}>Submit</Button>\n                                    <Button className=\"w-10\" onClick={this.cancelReviewEdit}>Cancel</Button>\n                                </ButtonGroup>\n                            </div>\n                            {/*<ButtonGroup className=\"d-flex\">*/}\n                            {/*    <Button bsStyle=\"danger\" className=\"w-100\" onClick={this.sendLike}>Like</Button>*/}\n                            {/*    <Button bsStyle=\"success\" className=\"w-100\" onClick={this.handleTabChange.bind(this, 4)}>Message</Button>*/}\n                            {/*</ButtonGroup>*/}\n                        </UserDetailsCard>\n                        <Col md={8} className=\"mx-3\">\n                            <div className=\"bg-light card shadow-sm mb-10\">\n                                <Tabs defaultActiveKey={1} \n                                    id=\"tab\" \n                                    activeKey={this.state.key} \n                                    onSelect={(key) => this.handleTabChange(key)}>\n                                    <Tab eventKey={1} title=\"About\">\n                                        {/*<h4 className=\"font-weight-bold\">Description</h4>*/}\n                                        {/*<p className=\"mb-10\">{this.props.userDetail.introduction}</p>*/}\n                                        {/*<h4 className=\"font-weight-bold\">Looking For</h4>*/}\n                                        {/*<p>{this.props.userDetail.lookingFor}</p>*/}\n                                        <h4 className=\"font-weight-bold\">Your Local Weather</h4>\n                                        <p>{this.props.userDetail.current_weather}</p> \n                                        <h4 className=\"font-weight-bold\">Your Local Temperature</h4>\n                                        <p>{this.props.userDetail.current_temperature + ' F°'}</p>\n                                    </Tab>\n                                    <Tab eventKey={2} title=\"Interests\">\n                                        {/* <h4 className=\"font-weight-bold\">Interests</h4>\n                                        <p>{this.props.userDetail.interests}</p> */}\n                                        <Nav>\n                                            <LinkContainer to={prefURL}>\n                                                <NavItem>\n                                                    Interests\n                                                </NavItem>\n                                            </LinkContainer>     \n                                        </Nav>\n                                    </Tab>\n                                    {/* <Tab eventKey={3} title=\"Photos\">\n                                        <div className=\"img-wrapper\">\n                                            <ImageGallery items={images}/>\n                                        </div>                                    \n                                    </Tab>\n                                    <Tab eventKey={4} title=\"Messages\">\n                                        <UserMessages \n                                            recipientId={this.props.userDetail.id} \n                                            messages={this.props.messageThread} \n                                            sendMessage={(event) => this.sendMessageHandler(event)} \n                                            onMessageChanged={(event) => this.handleMessageChange(event)}/>\n                                    </Tab> */}\n                                </Tabs>\n                            </div>                            \n                        </Col>\n                    </Row>\n                </Row>\n            );\n        }\n\n        return (\n            <Grid>\n                {userInfo}\n            </Grid>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        userDetail: state.user.userDetail,\n        user: state.auth.user,\n        messageThread: state.user.messageThread\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onGetUser: (userId) => dispatch(actions.getUser(userId)),\n        // onGetMessageThread: (id, recipientId) => dispatch(actions.getMessageThread(id, recipientId)),\n        // onSendMessage: (id, message) => dispatch(actions.sendMessage(id, message)),\n        onUpdateReview: (id, review) => {\n            return new Promise((resolve, reject) => {\n                dispatch(actions.addReview(id, review));\n                resolve();\n            });\n        },\n        // onSendLike: (id, recipientId) => dispatch( actions.sendLike(id, recipientId) )\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserDetails);"]},"metadata":{},"sourceType":"module"}